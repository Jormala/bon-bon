<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bon-Bon Control Panel</title>

    <link href="styles.css" rel="stylesheet">
    <script src="front-end.js" defer></script>
</head>
<body>
    <h1>Bon-Bon Control Panel</h1>
    <div id="container">
        <div>
            <h2>Info</h2>
            <div>
                <h3>Log</h3>
                <div class="scrollable logging-table-container">
                    <table class="logging-table">
                        <tr>
                            <td>1</td>
                            <td><code id="log-0"></code>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td><code id="log-1"></code></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td><code id="log-2"></code></td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td><code id="log-3"></code></td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td><code id="log-4"></code></td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td><code id="log-5"></code></td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td><code id="log-6"></code></td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td><code id="log-7"></code></td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td><code id="log-8"></code></td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td><code id="log-9"></code></td>
                        </tr>
                    </table>
                </div>
                
                <h3>Animation log</h3>

                <div class="scrollable logging-table-container">
                    <table class="logging-table">
                        <tr>
                            <td>1</td>
                            <td><code id="animation-log-0"></code>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td><code id="animation-log-1"></code></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td><code id="animation-log-2"></code></td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td><code id="animation-log-3"></code></td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td><code id="animation-log-4"></code></td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td><code id="animation-log-5"></code></td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td><code id="animation-log-6"></code></td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td><code id="animation-log-7"></code></td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td><code id="animation-log-8"></code></td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td><code id="animation-log-9"></code></td>
                        </tr>
                    </table>
                </div>
            </div>

            <table class="info-table">
                <tr>
                    <td>Client-Server connection</td>
                    <td>
                        <code id="client-connection">Uninitialized</code>
                    </td>
                </tr>

                <tr>
                    <td>Camera cycles per second</td>
                    <td>
                        <code id="camera-cycle">Uninitialized</code>
                    </td>
                </tr>

                <tr>
                    <td>Servo cycles per second</td>
                    <td>
                        <code id="servo-cycle">Uninitialized</code>
                    </td>
                </tr>

                <tr>
                    <td>Camera response time</td>
                    <td>
                        <code id="camera-response-time">Uninitialized</code>
                    </td>
                </tr>

                <tr>
                    <td>Controller state</td>
                    <td>
                        <code id="controller-state">Uninitialized</code>
                    </td>
                </tr>

                <tr>
                    <td>Animation status</td>
                    <td>
                        <code id="animation-status">Uninitialized</code>
                    </td>
                </tr>

                <tr>
                    <td>Servos</td>
                    <td>
                        <div class="scrollable servos-container">
                            <code id="current-raw-servos">
                                Uninitialized
                            </code>
                        <div>
                    </td>
                </tr>
                <tr>
                    <td>Real Servos</td>
                    <td>
                        <div class="scrollable servos-container">
                            <code id="current-servos">
                                Uninitialized
                            </code>
                        <div>
                    </td>
                </tr>

                <tr>
                    <td>Vision</td>
                    <td>
                        <div id="vision-container">
                            <img id="vision">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>"Target"</td>
                    <td>
                        <div id="target-container">
                            <img id="target">
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <div>
            <h2>Controls</h2>

            <div>
                <button type="button"
                    onclick="sendData('set-vision', 'true')" 
                    title="Starts parsing current vision. Will parse even if no animation vision is &quot;needed&quot;.">
                        Vision ON
                </button>
                <button type="button"
                    onclick="sendData('set-vision', 'false')" 
                    title="Stops parsing current vision">
                        Vision OFF
                </button>
                <button type="button"
                    onclick="sendData('set-state', 'looking')" 
                    title="Starts looking for the person. &NewLine; e.g. Starts parsing Vision and Starts the &quot;look-for&quot; animation.">
                        Start looking
                </button>
                <button type="button"
                    onclick="sendData('set-state', 'idle')" 
                    title="Set's the controller's state to 'Idle'. Bon-Bon will not do anything.">
                        Idle
                </button>
                <button type="button"
                    onclick="sendData('set-state', 'look-at')" 
                    title="Set's the controller's state to 'Look At'. Bon-Bon will try to look at the person.">
                        Look At
                </button>
            </div>

            <div id="transition-speed">
                <span>Transition Speed:&nbsp;&nbsp;</span>
                <input type="number"
                    onchange="value > 0 ? sendData('set-transition-speed', value) : null" 
                    min="1" 
                    value="1000">
            </div>

            <form id="send-animation">
                <input id="selected-animation-input" 
                    type="text" 
                    value="wave">
                <button type="button"
                    onclick="sendData('start-animation', document.getElementById('selected-animation-input').value)"
                    title="Starts animation with the corresponding name that's defined in &quot;/server/res/animations.json&quot;">
                        Start Animation
                </button>
            </form>

            <form>
                <!-- Cursed formatting -->
                <textarea id="position-input" rows="17">{
    "l-shoulder-x": 50,
    "l-shoulder-y": 50,
    "l-elbow": 50,
    "l-hand-x": 50,
    "l-hand-y": 50,
    "r-shoulder-x": 50,
    "r-shoulder-y": 50,
    "r-elbow": 50,
    "r-hand-x": 50,
    "r-hand-y": 50,
    "eye-x": 50,
    "eye-y": 50,
    "neck-x": 50,
    "neck-y": 50,
    "jaw": 50
}</textarea>

                <button type="button"
                    onclick="sendData('set-position', document.getElementById('position-input').value)"
                    title="Transitions to the given position">
                        Move to Position
                </button>
                <input type="reset" value="Reset"
                    title="Reset the values in the above textarea">
            </form>

            <button type="button"
                onclick="sendData('reload-options', null)"
                title="Reloads variables from &quot;options.json&quot; in the server">
                        Reload options.json
            </button>
        </div>
    </div>
</body>
</html>